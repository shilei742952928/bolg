索引是帮助mysql高效获取数据的排好序的数据结构  
索引存储在文件中  
索引结构    

    1.二叉树  why not?    
           因为在极端情况下二叉树数据结构呈现线性存储比普通查找提升不大
    
    2.红黑树 why not？  
          与二叉树比较  具有平衡功能  
          每个叶子节点只能存储一个数据 如果数据量大也会太深IO次数太多
    3.HASH   why  not？  
          可以快速查找数据  
          不能进行范围查找
    4.BTREE      
         度（Degree） 节点的数据存储个数  
         叶节点具有相同的深度  
         叶节点的指针为空  
         节点中数据key从左到右递增排列  
    5.B+Tree  
        是BTREE的变种  
        非叶子节点不存储data只存储key  
        叶子节点不存储指针  
        顺序访问指针提高区间访问的性能     叶子节点之间有指针连接 方便范围查找
    
    学习数据结构 一个网址  
          https://www.cs.usfca.edu/~galles/visualization/Algorithms.html
    
磁盘原理  
   寻道时间 （速度慢，费时）  
   旋转时间（速度较快）    
   
   
   mysql的存储引擎  注  设置在表上面的而非数据库上的  
   MyISAM    非聚集
      索引文件个数据文件是分离的  
     主键索引  B+树的叶子节点存储的文件指针  指向对应的数据  
     非主键索引   同上 
   
   InnoDB   剧集
      数据文件本身就是索引文件         与MyISAM不同  
      表数据文件本身就是按B+tree组织的一个索引结构  
      聚集索引-叶节点包含了完整的数据记录  
      为什么InnoDB必须有主键，并且推荐整型的自增主键？  
        
         因为InnoDB的数据文件本身就是按照B+tree组织的一个索引文件  
         如果建表时未指定主键 mysql会根据一定的规则选择表字段建立索引   如未命中规则则会建立一个隐形的索引字段  
         使用整形的自增主键的好处  
                  1.插入效率会提高  why?  
                        自增的主键会之间在B+tree的叶子节点一个一个顺序增加数据 否则的话会有数据迁移 重排序的可能造成性能下降  
                  2.整型的数据在B+tree的非叶子节点中比较更方便  String类型的实用ASCII 码比较效率相对低一些   
      为什么非主键索引结构叶子节点存储的是主键值？      
           1.数据一致性  
                如果同时都存整个数据的话必然每次更新所有的索引都会进行更新 可能存在数据一致性问题  
           2.节省存储空间  
                因为InnoDB的数据文件和索引文件都是在一起的  如果所有的索引的叶子节点都存储整个数据的话会占用很大的空间造成更多的磁盘IO  性能会降低

      主键索引  B+tree 的叶子节点存储的整个数据   
      非主键索引  B+tree的叶子节点存储的是主键索引
      
      
      
      关于“页”的问题  
         操作系统文件管理系统一次IO读取的数据大小1页=4kb  
         mysql   1页=16kb  
         这也是BTREE没有作为mysql的索引的存储结构的原因  
                      因为BTREE上的所有节点都会存储数据因此文件会很大mysql 每一页的大小都会进行一次IO，而B+TREE是将所有的数据存储在叶子节点上 因此mysql一页的大小能查询更多的数据，然后指向叶子节点数据  降低 IO
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   
   